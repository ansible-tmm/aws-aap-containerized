# This is the AAP installer inventory file
# Please consult the docs if you're unsure what to add
# For all optional variables please consult the included README.md

# This section is for your AAP Controller host(s)
# -------------------------------------------------
[automationcontroller]
{{ installer_fqdn_hostname }} ansible_connection=local

{% if aap_include_eda_controller|bool %}
# This section is for your AAP EDA Controller host(s)
# -----------------------------------------------------
[automationeda]
{{ installer_fqdn_hostname }} ansible_connection=local
{% endif %}

{% if aap_include_automation_hub|bool %}
# This section is for your AAP Automation Hub host(s)
# -----------------------------------------------------
[automationhub]
{{ installer_fqdn_hostname }} ansible_connection=local
{% endif %}

{% if aap_include_lightspeed|bool %}
# This section is for your Red Hat Ansible Lightspeed host(s)
# -------------------------------------------------------------
[ansiblelightspeed]
{{ installer_fqdn_hostname }} ansible_connection=local
{% endif %}

# This section is for your AAP Gateway host(s)
# -----------------------------------------------------
[automationgateway]
{{ installer_fqdn_hostname }} ansible_connection=local

# This section is for your AAP Execution host(s)
# ------------------------------------------------
#[execution_nodes]
#fqdn_of_your_rhel_host

# This section is for the AAP database(s)
# -----------------------------------------
[database]
{{ installer_fqdn_hostname }} ansible_connection=local

# This section is for the AAP redis cluster
# -----------------------------------------
[redis]
{{ installer_fqdn_hostname }} ansible_connection=local

[all:vars]

# Common variables needed for installation
postgresql_admin_username=postgres
postgresql_admin_password={{ installer_admin_pw }}
registry_username={{ registry_username }}
registry_password={{ registry_password }}
redis_mode=standalone

# AAP Controller - mandatory
controller_admin_password={{ installer_admin_pw }}
controller_pg_host={{ installer_fqdn_hostname }}
controller_pg_password={{ installer_admin_pw }}
controller_postinstall=false
# controller_license_file=/tmp/manifest.zip
controller_postinstall_dir=/tmp/config

{% if aap_include_eda_controller|bool %}
# AAP EDA Controller - mandatory
eda_admin_password={{ installer_admin_pw }}
eda_pg_host={{ installer_fqdn_hostname }}
eda_pg_password={{ installer_admin_pw }}
{% endif %}

{% if aap_include_automation_hub|bool %}
# AAP Automation Hub - mandatory
hub_admin_password={{ installer_admin_pw }}
hub_pg_host={{ installer_fqdn_hostname }}
hub_pg_password={{ installer_admin_pw }}
automationhub_seed_collections=true
automationhub_collection_seed_repository=validated
{% endif %}

{% if aap_include_lightspeed|bool %}
# Red Hat Ansible Lightspeed - mandatory
# For information about required and optional variables, refer to:
# https://docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/2.6/html/containerized_installation/appendix-inventory-files-vars#lightspeed-variables
lightspeed_admin_user={{ lightspeed_admin_user | default('admin') }}
lightspeed_admin_password={{ installer_admin_pw }}
lightspeed_admin_email={{ lightspeed_admin_email | default('admin@example.com') }}
lightspeed_pg_host={{ installer_fqdn_hostname }}
lightspeed_pg_password={{ installer_admin_pw }}

# Ansible Lightspeed intelligent assistant - required for chatbot functionality
{% if lightspeed_chatbot_model_url|default('') != '' and lightspeed_chatbot_model_api_key|default('') != '' and lightspeed_chatbot_model_id|default('') != '' %}
lightspeed_chatbot_model_url={{ lightspeed_chatbot_model_url }}
lightspeed_chatbot_model_api_key={{ lightspeed_chatbot_model_api_key }}
lightspeed_chatbot_model_id={{ lightspeed_chatbot_model_id }}
{% endif %}

# Ansible Lightspeed MCP server integration - optional
{% if lightspeed_mcp_controller_enabled|default('false')|bool %}
lightspeed_mcp_controller_enabled={{ lightspeed_mcp_controller_enabled }}
{% endif %}
{% if lightspeed_mcp_lightspeed_enabled|default('false')|bool %}
lightspeed_mcp_lightspeed_enabled={{ lightspeed_mcp_lightspeed_enabled }}
{% endif %}
{% endif %}

# AAP Gateway - mandatory
gateway_admin_password={{ installer_admin_pw }}
gateway_pg_host={{ installer_fqdn_hostname }}
gateway_pg_password={{ installer_admin_pw }} 